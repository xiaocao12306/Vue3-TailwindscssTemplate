{"version":3,"file":"cartApp.20b14217.js","sources":["../../src/cartApp.vue"],"sourcesContent":["<template>\r\n  <div class=\"h-screen\">\r\n    <van-nav-bar\r\n      v-if=\"isNav\"\r\n      :title=\"title\"\r\n      :fixed=\"true\"\r\n      :placeholder=\"true\"\r\n    />\r\n    <van-nav-bar\r\n      :title=\"title\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n      v-else\r\n      :fixed=\"true\"\r\n      :placeholder=\"true\"\r\n    />\r\n    <transition :name=\"transitionName\">\r\n      <router-view class=\"warp\"></router-view>\r\n    </transition>\r\n    <!-- 底部导航栏 -->\r\n    <van-tabbar\r\n      v-model=\"active\"\r\n      @change=\"onChange\"\r\n      :placeholder=\"true\"\r\n      v-if=\"isNav\"\r\n    >\r\n      <van-tabbar-item name=\"/\" icon=\"home-o\">首页</van-tabbar-item>\r\n      <van-tabbar-item name=\"/gameIndex\" icon=\"apps-o\">小游戏</van-tabbar-item>\r\n      <van-tabbar-item name=\"/wiki\" icon=\"cart-o\">垃圾百科</van-tabbar-item>\r\n      <van-tabbar-item name=\"/mine\" icon=\"user-circle-o\"\r\n        >个人中心</van-tabbar-item\r\n      >\r\n    </van-tabbar>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from '@vue/reactivity'\r\nimport { watch } from '@vue/runtime-core'\r\n// 导入useroute函数\r\nimport { useRoute, useRouter, onBeforeRouteUpdate } from 'vue-router'\r\n\r\n// 声明router函数\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n\r\nlet title = ref(route.meta.title)\r\n// 声明active\r\nlet active = ref(route.path)\r\n// 判断是否首页页面\r\nlet isNav = ref(route.meta.index == 1)\r\nlet transitionName = ref('van-slide-right')\r\n// 监听切换事件\r\nconst onChange = () => {\r\n  // 切换首页路由\r\n  router.push(active.value)\r\n}\r\n// 监听路由切换事件\r\nonBeforeRouteUpdate((to,from) => {\r\n  // 切换路由之后获取页面名称，然后修改顶部导航栏title\r\n  title.value = to.meta.title\r\n  active.value = to.path\r\n  isNav.value = to.meta.index === 1\r\n})\r\n\r\nrouter.beforeEach((to, from) => {\r\n  transitionName.value = to.meta.index < from.meta.index ? 'van-slide-right' : 'van-silde-left'\r\n})\r\nconst onClickLeft = () => {\r\n  router.back()\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.warp {\r\n  height: calc(100% - 100px);\r\n}\r\n</style>\r\n"],"names":[],"mappings":"yXA4CA,KAAM,GAAQ,IACR,EAAS,IAEf,GAAI,GAAQ,EAAI,EAAM,KAAK,OAEvB,EAAS,EAAI,EAAM,MAEnB,EAAQ,EAAI,EAAM,KAAK,OAAS,GAChC,EAAiB,EAAI,mBAEzB,KAAM,GAAW,IAAM,CAErB,EAAO,KAAK,EAAO,QAGrB,EAAoB,CAAC,EAAG,IAAS,CAE/B,EAAM,MAAQ,EAAG,KAAK,MACtB,EAAO,MAAQ,EAAG,KAClB,EAAM,MAAQ,EAAG,KAAK,QAAU,IAGlC,EAAO,WAAW,CAAC,EAAI,IAAS,CAC9B,EAAe,MAAQ,EAAG,KAAK,MAAQ,EAAK,KAAK,MAAQ,kBAAoB,mBAE/E,KAAM,GAAc,IAAM,CACxB,EAAO"}