{"version":3,"file":"mine.7761311a.js","sources":["../../src/view/mine.vue"],"sourcesContent":["<template>\r\n  <div class=\" pt-3\">\r\n    <div class=\"flex flex-row items-center py-4 px-10 mb-5 mx-3\" @click=\"goToLogin\">\r\n      <van-image :src=\"user.avatar\" round width=\"100\" height=\"100\" class=\"shadow-lg\"></van-image>\r\n      <div class=\"ml-10 flex flex-col justify-around h-full\">\r\n        <p class=\"text-2xl\">{{ user.username }}</p>\r\n        <p class=\"mt-2 text-cyan font-bold\">\r\n          总积分：{{ user.answer_count }}\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <div class=\"p-14\">\r\n      <div v-for=\"(item,index) in menu \" :key=\"index\" class=\" shadow-lg p-4 rounded-xl mb-8\">\r\n        <router-link :to=\"item.path\" class=\"flex justify-center items-center\" v-if=\"item.path !== '#'\">\r\n          <van-icon :name=\"item.icon\" :color=\"item.color\" size=\"24\"></van-icon>\r\n          <p class=\"ml-5\">{{item.value}}</p>\r\n        </router-link>\r\n        <div v-else class=\"flex justify-center items-center\" @click=\"logOut\">\r\n          <van-icon :name=\"item.icon\" :color=\"item.color\" size=\"24\"></van-icon>\r\n          <p class=\"ml-5\">{{item.value}}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref } from '@vue/reactivity'\r\nimport { useRouter } from 'vue-router'\r\nimport { getUser } from '../http/api'\r\nimport { avatarArr } from '../config'\r\nlet router = useRouter()\r\nlocalStorage.setItem('avatar',avatarArr[parseInt(Math.random(5) * 10)])\r\nlet user = reactive({\r\n  avatar: localStorage.getItem('avatar'),\r\n  username:'点击登录'\r\n})\r\nconst menu = ref([\r\n  {value:'我的收藏', icon:'star-o', color:'#0b2d64', path:'/star'},\r\n  {value:'个人信息', icon:'user-o', color:'#7ecdb6', path:'/personal'},\r\n  {value:'分类科普', icon:'apps-o', color:'#576d93', path:'/WikiPersonal'},\r\n  {value:'退出登录', icon:'guide-o', color:'#ff531a', path:'#'},\r\n])\r\nlet goToLogin = () => {}\r\nlet logOut = () => {}\r\nconst id = localStorage.getItem('userid')\r\nif(id) {\r\n  getUser(id).then((res) => {\r\n    Object.assign(user, res)\r\n  })\r\n    logOut = () => {\r\n    console.log('logout')\r\n    localStorage.removeItem('userid')\r\n    user.username = '点击登录'\r\n  }\r\n}else{\r\n  goToLogin = () => {\r\n    router.push('login')\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":[],"mappings":"iaA+BA,GAAI,GAAS,IACb,aAAa,QAAQ,SAAS,EAAU,SAAS,KAAK,OAAO,GAAK,MAClE,GAAI,GAAO,EAAS,CAClB,OAAQ,aAAa,QAAQ,UAC7B,SAAS,6BAEX,KAAM,GAAO,EAAI,CACf,CAAC,MAAM,2BAAQ,KAAK,SAAU,MAAM,UAAW,KAAK,SACpD,CAAC,MAAM,2BAAQ,KAAK,SAAU,MAAM,UAAW,KAAK,aACpD,CAAC,MAAM,2BAAQ,KAAK,SAAU,MAAM,UAAW,KAAK,iBACpD,CAAC,MAAM,2BAAQ,KAAK,UAAW,MAAM,UAAW,KAAK,OAEvD,GAAI,GAAY,IAAM,GAClB,EAAS,IAAM,GACnB,KAAM,GAAK,aAAa,QAAQ,UAChC,MAAG,GACD,GAAQ,GAAI,KAAK,AAAC,GAAQ,CACxB,OAAO,OAAO,EAAM,KAEpB,EAAS,IAAM,CACf,QAAQ,IAAI,UACZ,aAAa,WAAW,UACxB,EAAK,SAAW,6BAGlB,EAAY,IAAM,CAChB,EAAO,KAAK"}